<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Birthday Fate Cards</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#0b1020; --text:rgba(255,255,255,.92);
      --gold: #d8b25c; --radius: 22px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      --display: "Cinzel", serif;
    }

    body {
      margin: 0; font-family: "Cormorant Garamond", serif; color: var(--text);
      display: flex; align-items: center; justify-content: center; min-height: 100vh;
      background: radial-gradient(circle at center, #130b2b, #070a14); padding: 20px;
    }

    .wrap { width: min(860px, 100%); }
    .card-container {
      position: relative; border-radius: var(--radius); padding: 28px;
      background: rgba(255,255,255,0.05); border: 1px solid rgba(216,178,92,0.3);
      box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    }

    .countdown { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 20px 0; }
    .tile { background: rgba(0,0,0,0.3); padding: 15px; border-radius: 15px; text-align: center; border: 1px solid rgba(216,178,92,0.2); }
    .num { font-family: var(--mono); font-size: 24px; font-weight: bold; display: block; }
    .label { font-size: 12px; color: var(--gold); }

    .cards { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; perspective: 1200px; }
    
    /* 3D Card */
    .fate { position: relative; height: 180px; cursor: pointer; }
    .fateInner {
      position: relative; width: 100%; height: 100%;
      transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
      transform-style: preserve-3d;
    }
    .fate.revealed .fateInner { transform: rotateY(180deg); }

    .fateFace {
      position: absolute; inset: 0; backface-visibility: hidden; -webkit-backface-visibility: hidden;
      border-radius: 20px; border: 1px solid rgba(216,178,92,0.3); padding: 20px;
      display: flex; flex-direction: column; justify-content: space-between;
      background: rgba(15, 15, 25, 0.9);
    }

    .fateBack { transform: rotateY(180deg); background: rgba(25, 20, 45, 0.95); }

    /* Badge */
    .pickBadge {
      position: absolute; top: 12px; right: 12px;
      padding: 4px 10px; border-radius: 6px;
      background: var(--gold); color: #000;
      font-family: var(--mono); font-size: 10px; font-weight: 900;
      opacity: 0; transition: opacity 0.4s ease 0.6s; z-index: 5;
    }
    .fate.is-picked .pickBadge { opacity: 1; }

    /* Card C Specific - ç‰¹åˆ¥é©šå–œæ¨£å¼ */
    #cardC { 
      grid-column: 1 / -1; height: auto; min-height: 120px; 
      display: none; opacity: 0; transform: translateY(20px);
      transition: all 0.8s ease; 
      background: linear-gradient(135deg, rgba(216,178,92,0.2), rgba(139,92,246,0.2));
      border: 2px solid var(--gold);
    }
    #cardC.show { display: block; opacity: 1; transform: translateY(0); }

    .fateTitle { font-family: var(--display); font-size: 18px; color: var(--gold); margin: 0; }
    .fateRevealTitle { font-family: var(--display); font-size: 20px; color: var(--gold); margin-bottom: 8px; }
    .fateRevealMeta { font-size: 14px; line-height: 1.6; color: rgba(255,255,255,0.9); }

    button { 
      padding: 12px 20px; border-radius: 12px; border: none; cursor: pointer;
      font-weight: bold; background: rgba(255,255,255,0.1); color: white; margin-top: 15px;
    }
    .primary { background: linear-gradient(135deg, var(--gold), #8b5cf6); }

    @media (max-width: 500px) { .cards { grid-template-columns: 1fr; } }
  </style>
</head>
<body>

  <main class="wrap">
    <section class="card-container">
      <h1 id="title">Hey âœ¨</h1>
      <div class="countdown">
        <div class="tile"><span class="num" id="d">0</span><span class="label">days</span></div>
        <div class="tile"><span class="num" id="h">0</span><span class="label">hours</span></div>
        <div class="tile"><span class="num" id="m">0</span><span class="label">mins</span></div>
        <div class="tile"><span class="num" id="s">0</span><span class="label">secs</span></div>
      </div>
      <button class="primary" id="openBtn">Open Invitation</button>

      <div id="flow" style="display:none; margin-top:30px;">
        <p id="openingText" style="margin-bottom:20px;"></p>
        
        <div class="cards">
          <div class="fate" id="cardA" onclick="handlePick('A')">
            <div class="fateInner">
              <div class="fateFace fateFront">
                <div><p class="fateTitle">Card A</p></div>
                <div style="font-size:12px; color:var(--gold);">âœ¦ tap to pick</div>
              </div>
              <div class="fateFace fateBack">
                <div class="pickBadge">YOU CHOSE</div>
                <div class="fateRevealTitle">A CUT Â· åœ‹è³“</div>
                <div class="fateRevealMeta">2026/3/6 19:00<br>åªè¦äººå‡ºç¾å°±å¥½ğŸ’•</div>
                <a class="linkBtn" id="linkA" target="_blank" style="color:var(--gold); font-size:12px;">View Map</a>
              </div>
            </div>
          </div>

          <div class="fate" id="cardB" onclick="handlePick('B')">
            <div class="fateInner">
              <div class="fateFace fateFront">
                <div><p class="fateTitle">Card B</p></div>
                <div style="font-size:12px; color:var(--gold);">âœ¦ tap to pick</div>
              </div>
              <div class="fateFace fateBack">
                <div class="pickBadge">YOU CHOSE</div>
                <div class="fateRevealTitle">æ¼¢ä¾†é£¯åº—ä¸€æ™š</div>
                <div class="fateRevealMeta">2026/3/7<br>éš”å¤©æœ‰å³¶èªæ—©é¤å”·ï¼</div>
                <a class="linkBtn" id="linkB" target="_blank" style="color:var(--gold); font-size:12px;">View Map</a>
              </div>
            </div>
          </div>

          <div id="cardC" class="fateFace" style="position:relative; backface-visibility: visible; inset: auto;">
             <div class="fateRevealTitle">Surprise! ğŸ</div>
             <div class="fateRevealMeta">å…¶å¯¦æˆ‘å…©å€‹éƒ½è¨‚å•¦å“ˆå“ˆï¼<br>æ‰€ä»¥ç”Ÿæ—¥è¡Œç¨‹å°±æ˜¯ A CUT æ™šé¤ + æ¼¢ä¾†é£¯åº—ä½ä¸€æ™šï¼</div>
             <div style="margin-top:10px; font-size:12px; color:var(--gold); font-weight:bold;">Happy Birthday, Addie! â¤ï¸</div>
          </div>
        </div>

        <div id="stepActions" style="display:none; gap:10px; justify-content:center;">
          <button class="primary" id="revealOtherBtn">çœ‹çœ‹å¦ä¸€å€‹é¸é …</button>
        </div>
      </div>
    </section>
  </main>

  <script>
    const CONFIG = {
      to: "Addie",
      targetDate: "2026-03-06T00:00",
      mapA: "https://www.google.com/maps/search/?api=1&query=A+CUT+ç‰›æ’é¤¨",
      mapB: "https://www.google.com/maps/search/?api=1&query=å°åŒ—æ¼¢ä¾†å¤§é£¯åº—"
    };

    let picked = null;
    let otherRevealed = false;

    // Countdown
    setInterval(() => {
      const diff = new Date(CONFIG.targetDate) - new Date();
      if (diff < 0) return;
      document.getElementById("d").innerText = Math.floor(diff / 86400000);
      document.getElementById("h").innerText = Math.floor((diff % 86400000) / 3600000);
      document.getElementById("m").innerText = Math.floor((diff % 3600000) / 60000);
      document.getElementById("s").innerText = Math.floor((diff % 60000) / 1000);
    }, 1000);

    document.getElementById("openBtn").onclick = () => {
      document.getElementById("title").innerText = "Hi, " + CONFIG.to;
      document.getElementById("openingText").innerText = "é¸ä¸€å¼µå¡ç‰‡ï¼Œæ±ºå®šä½ ä»Šå¹´ç”Ÿæ—¥æ€éº¼é ğŸ¥°";
      document.getElementById("flow").style.display = "block";
      document.getElementById("linkA").href = CONFIG.mapA;
      document.getElementById("linkB").href = CONFIG.mapB;
      document.getElementById("openBtn").style.display = "none";
    };

    function handlePick(id) {
      if (picked) return;
      picked = id;
      const card = document.getElementById("card" + id);
      card.classList.add("revealed", "is-picked");
      document.getElementById("stepActions").style.display = "flex";
    }

    document.getElementById("revealOtherBtn").onclick = () => {
      const otherId = (picked === 'A') ? 'cardB' : 'cardA';
      document.getElementById(otherId).classList.add("revealed");
      document.getElementById("revealOtherBtn").style.display = "none";
      
      // âœ… ç¿»é–‹ç¬¬äºŒå¼µå¾Œï¼Œå»¶é²é¡¯ç¤º Card C
      setTimeout(() => {
        const cardC = document.getElementById("cardC");
        cardC.classList.add("show");
        cardC.scrollIntoView({ behavior: "smooth" });
      }, 1000);
    };
  </script>
</body>
</html>
